<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test032.html</title>

<style type="text/css">
	* {color: #223322; font-style: 맑은고딕; font-weight: bold;}
	.btn {width:255px; font-size: 16px; }
	.btn:hover {color:orange;}
</style>

<script type="text/javascript">

	function addMember()
	{
		// alert("성공");
		
		// 첫 번째 방법
		/*
		var position = document.getElementById("userPosition").value;
		alert(position);
		*/
		
		// 두 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		var positionOptions = positionObj.options;
		// 배열 형태
		var positionMsg = "";
		
		for (var i=0; i<positionOptions.length; i++)
		{
			if (positionOptions[i].selected)
			{
				// 단일 선택
				positionMsg = positionOptions[i].value;
				break;		//-- 다중 선택이 허용된 select 일 경우 사용 안함
				
				// 다중선택
				// positionMsg = positionOptions[i].value + " ";
				
			}
		}
		
		alert(positionMsg); 
		*/
		
		//세 번째 방법
		/*
		var positionObj = document.getElementById("userPosition");
		// alert(positionObj.selectedIndex);
		//--==>> 0 (→ 부장), 1(→ 과장), 2(→ 대리), 3 (→ 사원)
		// alert(positionObj.options[2].value);
		//--==>> cde(대리)
		// alert(positionObj.options[3].value);
		//--==>> vfr(사원)
		
		var positionMsg = positionObj.options[positionObj.selectedIndex].value;
		alert(positionMsg);
		*/
		
		
		var uName = document.getElementById("userName").value;
		var uSsn = document.getElementById("userSsn").value;
		
		// var uCity = document.getElementById("userCity").value;
		var cityObj = document.getElementById("userCity");
		var uCity = cityObj.options[cityObj.selectedIndex].value;
		
		var buseoObj = document.getElementById("userDepartment");
		var uBuseo = buseoObj.options[buseoObj.selectedIndex].value;

		var positionObj = document.getElementById("userPosition");
		var uPosition = positionObj.options[positionObj.selectedIndex].value;
		
		var uBasicPay = document.getElementById("userBasicPay").value;
		
		// 테이블 그리기 -----------------------------------------------------
		
		/* 
		//1테이블 노드 만들기
		var tableNode = document.getElementById("memberList");
		
		// tr노드 만들기
		var trNode = document.createElement("tr");
		
		// 함수 안이용
		// td노드 만들기
		var tdNode1 = document.createElement("td");
		var tdNode2 = document.createElement("td");
		var tdNode3 = document.createElement("td");
		var tdNode4 = document.createElement("td");
		var tdNode5 = document.createElement("td");
		var tdNode6 = document.createElement("td");
		
		// 데이터 노드 만들기
		var nameNode = document.createTextNode(uName);
		var ssnNode = document.createTextNode(uSsn);
		var cityNode = document.createTextNode(uCity);
		var buseoNode = document.createTextNode(uBuseo);
		var positionNode = document.createTextNode(uPosition);
		var basicpayNode = document.createTextNode(uBasicPay);
		
		// td에 데이터 넣기
		tdNode1.appendChild(nameNode);
		tdNode2.appendChild(ssnNode);
		tdNode3.appendChild(cityNode);
		tdNode4.appendChild(buseoNode);
		tdNode5.appendChild(positionNode);
		tdNode6.appendChild(basicpayNode);
		
		// tr에 td 넣기
		trNode.appendChild(tdNode1);
		trNode.appendChild(tdNode2);
		trNode.appendChild(tdNode3);
		trNode.appendChild(tdNode4);
		trNode.appendChild(tdNode5);
		trNode.appendChild(tdNode6);
		
		
		// 함수이용
		trNode.appendChild(createTdNode(uName));
		trNode.appendChild(createTdNode(uSsn));
		trNode.appendChild(createTdNode(uCity));
		trNode.appendChild(createTdNode(uBuseo));
		trNode.appendChild(createTdNode(uPosition));
		trNode.appendChild(createTdNode(uBasicPay));
		
		
		
		// 테이블에 tr넣기
		tableNode.appendChild(trNode); 
		*/
		
		// ------------------------------------------------------테이블 그리기
		
		var tableNode = document.getElementById("memberList");
		var trNode = document.createElement("tr");
		
		trNode.appendChild(createTdNode(uName));
		trNode.appendChild(createTdNode(uSsn));
		trNode.appendChild(createTdNode(uCity));
		trNode.appendChild(createTdNode(uBuseo));
		trNode.appendChild(createTdNode(uPosition));
		trNode.appendChild(createTdNode(uBasicPay));
		
		tableNode.appendChild(trNode);
		
		// 방법1 
		// formClear();
		
		// 방법2
		document.forms[0].reset();
		// 우리는 form를 1개만 만들어서 어떤 forms를 써도 그 1개를 지정
		// 근데 form를 여러개 쓰는 순간 순차적으로 0 1 2 순서를 부여받음
		
		document.getElementById("userName").focus();
		// tab으로 메뉴 간 이동 가능 + 화살표로 메뉴 선택 가능
		
		
		// ------------------------------------------------------테이블 그리기
	}
		/*
		function createTdNode(val)
		{
			val textNode = document.createTextNode(val);
			var tdNode = document.createElement("td");
			tdNode.appendChild(textNode);
			return tdNode;
		}
		*/
	
		
	
	
	function createTdNode(val)
	{
		var tdNode = document.createElement("td");
		var textNode = document.createTextNode(val);
		tdNode.appendChild(textNode);
		
		return tdNode;
	}
	
	function formClear()
	{
		document.getElementById("userName").value = "";
		document.getElementById("userSsn").value="";
		
		var cityObj = document.getElementById("userCity");
		cityObj.options[1].selected = true;
		// selected="selected" 처럼 처음 페이지 불러올 때
		// 얘를 ([1]=경기) 기본으로 놓겠다는 의미! 
		
		var buseoObj = document.getElementById("userDepartment");
		buseoObj.options[3].selected = true;
		
		var positionObj = document.getElementById("userPosition");
		positionObj.options[3].selected = true;
		
		document.getElementById("userBasicPay").value = "";
		
		
	}

</script>

</head>
<body>

<div>
	<h1>자바스크립트 활용</h1>
	<hr>
</div>

<div>
	<h2>선택목록(select) 다루기</h2>
	
	<form>
		<table>
			<tr>
				<td>이름</td>
				<td>
					<input type="text" id="userName">
				</td>
			</tr>
			
			<tr>
				<td>주민번호</td>
				<td>
					<input type="text" id="userSsn">
				</td>
			</tr>
			
			<tr>
				<td>지역</td>
				<td>
					<!-- <input type="text" id="userCity"> -->
					<select id="userCity">
						<option  value="1123(서울)"  >서울</option>
						<option  value="2234(경기)" selected = "selected">경기</option>
						<option  value="3345(대전)" >대전</option>
						<option  value="4456(광주)" >광주</option>
					</select>
				</td>
			</tr>
			
			<tr>
				<td>부서</td>
				<td>
					<!-- <input type="text" id="userDepartment"> -->
					<select id="userDepartment">
						<option value="9987(개발부)">개발부</option>
						<option value="8876(인사부)">인사부</option>
						<option value="7765(기획부)">기획부</option>
						<option value="6654(영업부)" selected = "selected" >영업부</option>
					</select>
				</td>
			</tr>
			
			<tr>
				<td>직위</td>
				<td>
					<!-- <input type="text" id="userPosition"> -->
					<select id = "userPosition">
						<option value="zaq(부장)">부장</option>
						<option value="xsw(과장)">과장</option>
						<option value="cde(대리)">대리</option>
						<option value="vfr(사원)" selected = "selected" >사원</option>
					</select>
				</td>
			</tr>
			
			<tr>
				<td>기본급</td>
				<td>
					<input type="text" id="userBasicPay">
				</td>
			</tr>
			
		</table>
		
		<input type="button" value="직원 추가" class="btn" onclick="addMember()">
		
		<br><br>
		
		<table id="memberList">
			<tr>
				<td>이름</td>
				<td>주민번호</td>
				<td>지역</td>
				<td>부서</td>
				<td>직위</td>
				<td>기본급</td>
		
		</table>
	</form>
</div>


</body>
</html>